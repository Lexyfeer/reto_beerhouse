{"version":3,"sources":["config.js","components/Formularios.js","App.js","index.js"],"names":["MY_API_KEY","Formularios","url","useState","form_id","form_name","questions","data","setData","nombre","setNombre","edad","setEdad","bool","setBool","check","setCheck","checkVal","setCheckVal","appointment","setApointment","useEffect","a","fetch","method","headers","response","json","responseJSON","console","log","fetchApi","handleSubmit","e","preventDefault","aspi","body","JSON","stringify","message","alert","clearForm","renderTypeInput","qType","id","qOptions","CampoString","CampoNumeric","CampoBoolean","CampoCheckbox","options","CampoSelect","type","name","value","onChange","target","required","min","max","htmlFor","onClick","checked","map","option","index","className","onSubmit","question","question_id","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4e49305c.chunk.js","sourcesContent":["const MY_API_KEY = 'QSss48gu1Q2XXUkLR4e8276MNqJR0hKr4D2mWuWK';\nexport { MY_API_KEY };","import React, { Fragment, useEffect, useState } from 'react';\nimport { MY_API_KEY } from '../config';\n\n\nfunction Formularios() {\n  const url = 'https://1crd6sdyg2.execute-api.us-east-1.amazonaws.com/dev/form';\n  const [data, setData] = useState(\n    {\n      form_id: 0,\n      form_name: 'Cargando...',\n      questions: []\n    }\n  );\n  const [nombre, setNombre] = useState('');\n  const [edad, setEdad] = useState('');\n  const [bool, setBool] = useState(true);\n  const [check, setCheck] = useState(false);\n  const [checkVal, setCheckVal] = useState('');\n  const [appointment, setApointment] = useState('10 am');\n\n  useEffect(() => {\n    const fetchApi = async () => {\n      try {\n        const response = await fetch(url, {\n          method: 'GET',\n          headers: {\n            'x-api-key': MY_API_KEY,\n            'Content-Type': 'application/json'\n          }\n        });\n        const responseJSON = await response.json();\n        console.log(responseJSON);\n        setData(responseJSON);\n      } catch (error) {\n        console.log('Error' + error);\n      }\n    };\n\n    fetchApi();\n  }, []);\n\n  const armaRespuesta = () => {\n    let genericJson = {};\n\n    if (data.form_id === 1) {\n      genericJson = {\n        'form_id': data.form_id,\n        'responses': {\n          '1': nombre,\n          '2': edad,\n          '3': bool,\n          '4': checkVal,\n          '5': appointment\n        }\n      };\n    } else {\n      genericJson = {\n        'form_id': data.form_id,\n        'responses': {\n          '1': checkVal,\n          '2': edad,\n          '3': bool\n        }\n      };\n    }\n    return genericJson;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    let aspi = armaRespuesta();\n\n    try {\n      const response = await fetch(url, {\n        method: 'POST',\n        headers: {\n          'x-api-key': MY_API_KEY,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(aspi)\n      });\n      const data = await response.json();\n      console.log(data);\n      if (data.message) {\n        alert(data.message);\n      }\n    } catch (error) {\n      console.log('Error' + error);\n    }\n    clearForm();\n  };\n\n  const clearForm = () => {\n    setNombre('');\n    setEdad('');\n    setBool(true);\n    setCheck(false);\n    setCheckVal('');\n    setApointment('10 am');\n  };\n\n  const renderTypeInput = (qType, id, qOptions) => {\n    switch (qType) {\n      case 'String':\n        return <CampoString id={id} />;\n      case 'Numeric':\n        return <CampoNumeric id={id} />;\n      case 'Boolean':\n        return <CampoBoolean id={id} />;\n      case 'Checkbox':\n        return <CampoCheckbox options={qOptions} />;\n      case 'Dropdown':\n        return <CampoSelect options={qOptions} />;\n      default:\n        return 'foo';\n    }\n  };\n\n  const CampoString = ({ id }) => {\n    return (\n      <input\n        type='text'\n        id={id}\n        name='nombre'\n        value={nombre || ''}\n        onChange={(e) => { setNombre(e.target.value); }}\n        required\n      />\n    );\n  };\n\n  const CampoNumeric = ({ id }) => {\n    return (\n      <input\n        type='number'\n        id={id}\n        name='edad'\n        min='1'\n        max='99'\n        value={edad || ''}\n        onChange={(e) => { setEdad(e.target.value); }}\n        required\n      />\n    );\n  };\n\n  const CampoBoolean = ({ id }) => {\n    return (\n      <section>\n        <label htmlFor='si'>Si</label>\n        <input\n          type='radio'\n          id={id}\n          name='grpBool'\n          value={true}\n          onClick={(e) => setBool(e.target.checked)}\n        />\n        <label htmlFor='no'>No</label>\n        <input\n          type='radio'\n          id={id}\n          name='grpBool'\n          value={false}\n          onClick={(e) => setBool(!e.target.checked)}\n        />\n      </section>\n    );\n  };\n\n  const CampoCheckbox = ({ options }) => {\n    return (\n      options.map((option, index) => {\n        return (\n          <label htmlFor='html' key={index}>\n            <input\n              type='checkbox'\n              value={option}\n              checked={check}\n              onChange={(e) => {\n                setCheck(e.target.checked);\n                setCheckVal(option);\n              }} />\n            {option}\n          </label>\n        );\n      })\n\n    );\n  };\n\n  const CampoSelect = ({ options }) => {\n    return (\n      <select\n        name='appoinment'\n        value={appointment}\n        onChange={(e) => setApointment(e.target.value)}\n        required>\n        {\n          options.map((option, index) => {\n            return (\n              <option\n                key={index}\n                id={index}>{option}</option>\n            );\n          })\n        }\n      </select>\n    );\n  };\n\n  return (\n    <>\n      <h2>{data.form_name}</h2>\n\n      <form id={data.form_id} className='people_form' onSubmit={handleSubmit}>\n        {(() => {\n          if (data.form_id === 1) {\n            return (\n              <h4>Bienvenido muchas gracias por querer registrarte para darle un hogar y mucho cariño a un hermoso gatito.</h4>\n            );\n          }\n\n          return <h4>Sabemos que este puede ser un proceso muy duro, pero muchas gracias por darte el tiempo para registrar a este hermoso gatito, verás que pronto le encontraremos hogar y una familia que le de mucho cariño.</h4>;\n        })()}\n\n        {data.questions.map(question => {\n          return (\n            <Fragment key={question.question_id}>\n              <label htmlFor=''>{question.question}</label>\n              {renderTypeInput(question.type, question.question_id, question.options)}\n            </Fragment>\n          );\n        })}\n        <button type='submit'>Enviar</button>\n      </form>\n    </>\n  );\n}\n\nexport default Formularios;\n","import React from 'react';\nimport Formularios from './components/Formularios';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <h1>Reto BEERHOUSE</h1>\n      <Formularios />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}